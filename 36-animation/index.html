<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #box{
            width: 100px;
            height: 100px;
            background-color: red;
            position: relative;
            left: 0px;
        }
        #box2{
            width: 100px;
            height: 100px;
            background-color: blue;
            /* transition: transform linear 5s; */
        }
    </style>
</head>
<body>
    <div id='box'></div>
    <br>
    <div id='box2'></div>
    <button class='pause-btn'>pause</button>
    <button class='resume-btn'>resume</button>
    <button class='add-box2-btn'>add box2</button>
</body>
<!-- <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->
<script type='module'>
    import { Animation, Timeline} from './animation.js'
    const timeline = new Timeline()

    const box = document.querySelector('#box')


    const box2 = document.querySelector('#box2')

    const linear = t => t
    timeline.add(new Animation(box.style, 'transform', v=>`translateX(${v}px)`, 0, 200, 5000, 0, linear))
    timeline.start()

    document.querySelector('.pause-btn').addEventListener('click', ()=>{
        timeline.pause()
    })
    document.querySelector('.resume-btn').addEventListener('click', ()=>{
        timeline.resume()
    })
    document.querySelector('.add-box2-btn').addEventListener('click', ()=>{
        timeline.add(new Animation(box2.style, 'transform',v=>`translateX(${v}px)`, 0, 200, 5000, 0, linear),)
    })
    // box2.style.transform = `translateX(200px)`
</script>
<!-- <script>

    // $('#box').animate({
    //     left: '200px'
    // }, 5000, 'linear')
    // vscode server 会造成浏览器前面跳帧
    let startTime = Date.now()
    function tick(){
        console.log(Date.now() - startTime)
        requestAnimationFrame(tick)
    }
    tick()
</script> -->
</html>